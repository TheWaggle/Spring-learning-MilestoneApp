# Dependency Injection
## 依存性の注入
依存性の注入とは、インスタンスを外部から直接渡してもらうことにより、
オブジェクト内で他のオブジェクトを呼び出してインスタンス化するような
密結合なコードを書かないようにする事で拡張性や変更容易性を実現する。

例）クラスAがクラスBに依存する = クラスAの中で クラスBを使っている。　

```java
//クラスA
@GetMapping("/lists")
public String showList(Model model){
    model.addAttribute("nameList", nameList.findAll()//クラスBのメソッド)
    return "/list";
}
```

``` nameList.findAll() ``` のようにクラスBのメソッドがクラスAのメソッドから呼ばれている。このような場合、密結合になります。
密結合の場合は、以下のような課題が出ます。
1. クラスAの作成の際にクラスBの内部で使うオブジェクトについて知らないといけない。
2. クラスBAの実装について詳細に知らないとクラスAを作成することができなくなる。

これらの課題を解決する為に「疎結合」によるクラスの設計を行います。
1. 疎結合になると、拡張性が高まる。-> クラスBのカスタマイズが発生しても影響箇所が減る。
2. テストしやすくなる。

## Spring で DIを準備する方法
 1. Beanの登録（Bean = ゲッターセッターを備えたクラスで[インスタンス化して使用]する目的のクラス）
 2. インジェクションの受け口を用意する(引数ありのコンストラクタを用意する）

### Beanを登録する方法
* @Component
    * 付与したクラスBeanであることを示している
* @Componentの代わりにユースケースを表すアノテーションを使える
    * @Controller - プレゼンテーション層
    * @Service - ビジネスロジック層
    * @Repository - データアクセス層
* @Bean Beanとして登録だが、上記を使うことで省略できるので今回は割愛

 )